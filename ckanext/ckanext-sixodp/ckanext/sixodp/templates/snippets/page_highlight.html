{% set truncate = truncate or 240 %}
{% set lang = h.get_current_lang() %}

<div id="page-highlight-carousel" class="carousel slide mobile-only" data-ride="carousel" data-interval="false">
  <div class="carousel-inner" role="listbox">
    {% for item in items %}
      {%- set extra_classes = ' active' if loop.index == 1 else ''  -%}
      <div class="carousel-item{{ extra_classes }}">
        {% snippet 'snippets/page_highlight_item.html', item=item, image_url=item[image_identifier] %}
      </div>
    {% endfor %}
  </div>

  <button class="carousel-control-prev" href="#page-highlight-carousel" role="button" data-bs-slide="prev">
    <span class="fa fa-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </button>
  <button class="carousel-control-next" href="#page-highlight-carousel" role="button" data-bs-slide="next">
    <span class="fa fa-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </button>

  <div class="carousel-indicators">
    {% for item in items %}
      {%- set extra_classes = ' active' if loop.index == 1 else ''  -%}
      <button data-bs-target="#page-highlight-carousel" data-bs-slide-to="{{ loop.index - 1 }}" class="{{extra_classes}}"></button>
    {% endfor %}
  </div>
</div>

<div class="container desktop-only">
  <div class="cards cards--4">
    {% for item in items %}
      {% snippet 'snippets/page_highlight_item.html', item=item, image_url=item[image_identifier] %}
    {% endfor %}
  </div>
</div>
